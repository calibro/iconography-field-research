import{h as i,n as h}from"./disclose-version.BJLeM3Er.js";import{a5 as u,a6 as p}from"./runtime.PD2bIQ_j.js";import{w as l,g as v}from"./paths.CHCKiEC9.js";function O(r){i&&r.firstChild!==null&&h(r)}let g=!1;function I(){g||(g=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function L(r){if(i){var t=!1,e=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var s=r.value;_(r,"value",null),r.value=s}if(r.hasAttribute("checked")){var y=r.checked;_(r,"checked",null),r.checked=y}}};r.__on_r=e,p(e),I()}}function _(r,t,e){e=e==null?null:e+"";var s=r.__attributes??(r.__attributes={});i&&(s[t]=r.getAttribute(t),t==="src"||t==="href"||t==="srcset")||s[t]!==(s[t]=e)&&(t==="loading"&&(r[u]=e),e===null?r.removeAttribute(t):r.setAttribute(t,e))}function R(r){if(!i&&r.loading==="lazy"){var t=r.src;r[u]=null,r.loading="eager",r.removeAttribute("src"),requestAnimationFrame(()=>{r[u]!=="eager"&&(r.loading="lazy"),r.src=t})}}var n=[];for(var c=0;c<256;++c)n.push((c+256).toString(16).slice(1));function P(r,t=0){return(n[r[t+0]]+n[r[t+1]]+n[r[t+2]]+n[r[t+3]]+"-"+n[r[t+4]]+n[r[t+5]]+"-"+n[r[t+6]]+n[r[t+7]]+"-"+n[r[t+8]]+n[r[t+9]]+"-"+n[r[t+10]]+n[r[t+11]]+n[r[t+12]]+n[r[t+13]]+n[r[t+14]]+n[r[t+15]]).toLowerCase()}var o,S=new Uint8Array(16);function j(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(S)}var A=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const f={randomUUID:A};function U(r,t,e){if(f.randomUUID&&!t&&!r)return f.randomUUID();r=r||{};var s=r.random||(r.rng||j)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,P(s)}const a=l(localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):[]),d=l(null),V=l("init");d.subscribe(r=>{r&&(console.log("saving project",r),D(r))});const z=r=>{r.id=U(),r.date=new Date().toISOString(),a.update(t=>[...t,r])},C=r=>{let t=v(a).find(e=>e.id===r);x(t)},N=r=>{a.update(t=>t.filter(e=>e.id!==r.id)),m()},x=r=>{d.set(r)},T=r=>{d.update(t=>({...t,ids:r}))},q=r=>{d.update(t=>({...t,links:r}))},D=r=>{a.update(t=>{if(t.find(s=>s.id===r.id))return r.date=new Date().toISOString(),t.map(s=>s.id===r.id?r:s)}),m()},m=()=>{localStorage.setItem("projects",JSON.stringify(v(a)))};export{_ as a,I as b,d as c,T as d,q as e,O as f,L as g,R as h,z as i,x as j,C as k,a as p,N as r,V as s};
