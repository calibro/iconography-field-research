import{g as d,f as u,h as m,i as a,j as l,k as p,l as _,m as v,n as g,U as f,s as i,o as b,q as y}from"./runtime.CKNddQ8B.js";import{s as I}from"./index.BK7BN-jz.js";function q(){const n=m,e=n.l.u;e&&(e.b.length&&d(()=>{c(n),a(e.b)}),u(()=>{const t=l(()=>e.m.map(p));return()=>{for(const s of t)typeof s=="function"&&s()}}),e.a.length&&u(()=>{c(n),a(e.a)}))}function c(n){if(n.l.s)for(const e of n.l.s)_(e);v(n.s)}function w(n,e,t){let s=t[e];const o=s===void 0;o&&(s={store:null,last_value:null,value:y(f),unsubscribe:b},t[e]=s),(o||s.store!==n)&&(s.unsubscribe(),s.store=n??null,s.unsubscribe=h(n,s.value));const r=_(s.value);return r===f?s.last_value:r}function h(n,e){return n==null?(i(e,void 0),b):I(n,t=>i(e,t))}function k(n,e){return n.set(e),e}function x(n,e){const t=n[e];t.store&&k(t.store,t.value.v)}function A(n){N(()=>{let e;for(e in n)n[e].unsubscribe()})}function N(n){g(()=>()=>l(n))}export{x as a,q as i,w as s,A as u};
